<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Auto</title>
    </h:head>
    <h:body>
         <p:panel id="PanelPrincipal">
            <h:form id="formPrincipal">



                <p:dataTable id="tblAuto"
                             value="#{autoFormBean.gestorAuto.listaAutos}"
                             var="auto">
                    <p:column headerText="Patente">
                        <p:outputLabel value="#{auto.patente}"/>
                    </p:column>

                    <p:column headerText="Marca">
                        <p:outputLabel value="#{auto.marca}"/>
                    </p:column>

                    <p:column headerText="Modelo">
                        <p:outputLabel value="#{auto.modelo}"/>
                    </p:column>

                    <p:column headerText="Color">
                        <p:outputLabel value="#{auto.color}"/>
                    </p:column>

                    <p:column headerText="Tipo de Combustible">
                        <p:outputLabel value="#{auto.tipoDeCombustible}"/>
                    </p:column>   

                    <p:column headerText="OPCION">
                        <p:commandButton id="btnModificar"
                                         actionListener="#{autoFormBean.asignarAutoSeleccionado(auto)}" 
                                         value="Modificar"
                                         update=":dlgModificar" oncomplete="PF('dlgModificarAuto').show()"/>
                    </p:column> 

                </p:dataTable>
            </h:form>

            <p:dialog id="dlgModificar" header="Autos" modal="true" widgetVar="dlgModificarAuto" minWidth="1000" >
                <h:form id="frmSecundario">
                     <p:growl id="growlMje"></p:growl>
                    <p:panelGrid columns="2">
                        <p:outputLabel for="txtPatente" value="Patente: "/>
                        <p:inputText id="txtPatente" value="#{autoFormBean.autoseleccionado.patente}" required="true" requiredMessage="Patente Obligatorio"/>
                        <p:outputLabel for="txtMarca" value="Marca: "/>
                        <p:inputText id="txtMarca" value="#{autoFormBean.autoseleccionado.marca}" required="true" requiredMessage="Marca Obligatorio"/>
                        <p:outputLabel for="txtModelo" value="Modelo: "/>
                        <p:inputText id="txtModelo" value="#{autoFormBean.autoseleccionado.modelo}" required="true" requiredMessage="Modelo Obligatorio" />
                        <p:outputLabel for="txtColor" value="Color: "/>
                        <p:inputText id="txtColor" value="#{autoFormBean.autoseleccionado.color}" required="true" requiredMessage="Color Obligatorio"/>
                        <p:outputLabel for="txtComb" value="Tipo de Combustible" />
                        <p:inputText id="txtComb" value="#{autoFormBean.autoseleccionado.tipoDeCombustible}" required="true" requiredMessage="Tipo de Combustible Obligatorio" />


                    </p:panelGrid>

                      
                    <p:commandButton value="Guardar Cambios" actionListener="#{autoFormBean.modificarAuto()}" 
                                     oncomplete="PF('dlgModificarAuto').hide()" update="formPrincipal growlMje"
                                     />

                 </h:form>
            </p:dialog>


        </p:panel>
    </h:body>
</html>

